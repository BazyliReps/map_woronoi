\documentclass[a4paper, 10pt, titlepage]{article}

\usepackage{polski}
\usepackage{indentfirst}
\usepackage[utf8]{inputenc}
\usepackage{hyperref}

\newcommand{\code}[1]{\texttt{#1}}

\usepackage{fancyhdr}
\pagestyle{fancy} 

\title {Projekt grupowy [GR3] -- 2018/2019\\Specyfikacja implementacyjna}
\author{Grupa 7 \\\\ Sebastian Stasiak, indeks 291109 \\ Bazyli Reps, indeks ******}

\begin{document}

\maketitle
\tableofcontents
\newpage

\section{Wykorzystane technologie}

Projekt napisany jest w postaci aplikacji web'owej.
Po stronie serwera wykorzystany jest framework \code{ASP.NET MVC 5}. Kod po stronie serwera pisany jest w \code{.NET Framework 4.7.1}, albo w \code{.NET Standard} jeśli nie ma potrzeby korzystania z żadnych funkcjonalności specyficznych dla środowiska Windows.
Warstwa prezentacji opierać będzie się na plikach Razor (\code{.cshtml}).

Po stronie użytkownika wykorzystany zostaje \code{JavaScript} (z założeniem, że przeglądarka użytkownika obsługuje \code{ECMAScript 9}), w tym popularna biblioteka \code{JQuery} oraz szereg pomniejszych bibliotek.
\code{CSS} ujednolicony będzie poprzez wykorzystanie biblioteki \code{Bootstrap 4}.

\section{Serwer}

Aplikacja działać będzie w chmurze, przy wykorzystaniu platformy Azure.
Możliwe jest także jej postawienie na dowolnej maszynie na której znajduje się system Windows 10 bądź Windows Server 2016.
W tym celu należy zainstalować na niej \code{.NET Framework Runtime 4.7.1} bądź nowszy, oraz IIS 10.
Działanie na starszych wersjach jest możliwe, jednak nie jest gwarantowane i nie będzie testowane.

\section{Struktura programu}

Program ma strukturę warstwową.
Z racji tego, że nie musi on przechowywać żadnych informacji, nie istnieje warstwa repozytorium.
Tak więc, wyszczególnić możemy dwie warstwy, warstwę \textbf{logiki biznesowej}, i \textbf{prezentacji}.

\subsection{Prezentacja}

Określania też warstwą interfejsu użytkownika oraz web'ową.
Jej zadaniem jest przedstawienie użytkownikowi danych oraz umożliwienie mu interakcji z serwisem. W jej skład wchodzą:

\subsubsection{Skrypty}

Skrypty, napisane w języku JavaScript, odpowiadają za obsługę interakcji użytkownika.

\paragraph{Odczyt pliku wejściowego}

Wskazany przez użytkownika plik zostanie wstępnie zwalidowany pod względem struktury, a następnie przekształcony w strukturę danych wysyłaną później do kontrolera.
Struktura ta opisana jest w późniejszej części dokumentu.
W przypadku, jeśli wprowadzony plik ma nieprawidłową strukturę, użytkownik otrzymuje jedynie stosowny komunikat.

Do odczytu pliku wykorzystany zostanie \href{https://developer.mozilla.org/en-US/docs/Web/API/FileReader}{\code{FileReader}}.

\paragraph{Edycja wprowadzonych danych}

Wczytane dane wyświetlone są w postaci formularza na stronie.
Możliwa jest ich edycja.
Wciśnięcie przycisku wywołuje odpowiednią fukcję JS, której zadaniem jest modyfikacja formularza, np. dodanie nowego wiersza, usunięcie starego, zmiana dostępnych pól w liście rozwijanej etc.
Interakcja odbywać się będzie przy użyciu JQuery Selectors, przy założeniu, że każdy wiersz w formularzu ma ID ustalone według konwencji \code{typRekordu\_numer}.
Czyli np. 4ty obiekt na liście ma ID \code{object\_3} (z racji na indeksowanie od 0).

\paragraph{Wczytanie mapy}

Po wciśnięciu przycisku do wysłania formularza, wykonany zostanie \code{POST} zawierający dane wejściowe (\code{content-type=application/json}) na endpoint \code{/LoadMap}.
Struktura danych wejściowych powinna zostać prawidłowo odczytana w metodzie kontrolera o tej nazwie.

Jeśli w \code{response} otrzymamy kod z zakresu \code{2xx Success}, oczekujemy że \code{content} zawiera \code{PartialView} z wyrenderowaną mapą wraz ze skryptami do jej interakcji.
W takim wypadku należy załadować go do \code{div}'a do tego przeznaczonego.

Jeśli otrzymamy kod \code{422 Unprocessable Entity} uznajemy, że w \code{content} znajduje się słownik błędów walidacji (gdzie kluczem jest \code{id} pola którego błąd dotyczy, a \code{value} jest wiadomość o błędzie).
Każde pole którego dotyczył błąd powinno zostać zaznaczone na czerwono, a pod nim wyświetlić się wiadomość.
Ponieważ otrzymujemy \code{id} pola, wystarczy je odnaleźć poprzez JQuery Selector.
Gdy nastąpi edycja tego pola, oba te efekty powinny zniknąć.

\paragraph{Wyświetlanie informacji o obszarach}

Gdy mapa jest wyświetlona, interakcją zajmują się przekazane wraz z nią skrypty.
Najechanie nad dowolny obszar powinno go podświetlić (to zrobione zostanie zwyczajnie za pomocą CSS), zaś kliknięcie na niego powinno wyświetlić okno zawierające wszystkie informacje na temat danego obszaru.
Okno to stworzone zostanie za pomocą \code{Bootstrap Popovers} albo \code{Bootstrap Modal} (decyzja nastąpi po wypróbowaniu obu i ocenieniu względów estetycznych).
Dane znajdujące się w nim, zaczerpnięte zostaną ze słownika przekazanego razem ze skryptami.

\subsubsection{Kontrolery}

\subsubsection{Widoki}

\subsection{Logika biznesowa}

\subsubsection{Walidacja}

\subsubsection{Generacja mapy}

\end{document}